server_names_hash_bucket_size 64;

#############################
# Pool of Liferay servers
##############################
upstream liferay_62_servers {
    ip_hash; # this is required as we dont rely on AJP to attach the sticky seession via jvmRoute

    # add any additional servers if requried
    <% @nodes.each do |val| -%>
		<%= val %>
	<% end -%>
	
}

log_format  main  '$remote_addr - $remote_user [$time_local] "$request" '
                     '$status $body_bytes_sent "$http_referer" '
                     '"$http_user_agent" "$http_x_forwarded_for"';

####################
# Caching 
####################
#gzip_http_version 1.1; 
#gzip_vary on; 
#gzip_comp_level 6; 
#gzip_proxied any; 
#gzip_types text/plain text/css application/json application/x-javascript text/xml application/xml application/xml+rss text/javascript application/javascript text/x-js; 
#gzip_buffers 16 8k; 
#gzip_disable "MSIE [1-6]\.(?!.*SV1)";
#proxy_cache_path /var/log/nginx/cache levels=1:2 keys_zone=liferay_cache:60m inactive=90m max_size=1000m;
